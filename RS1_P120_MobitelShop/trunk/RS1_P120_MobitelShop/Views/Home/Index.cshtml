@using PagedList.Mvc;
@using RS1_P120_MobitelShop.ViewModel
@model  RS1_P120_MobitelShop.ViewModel.PocetnaIndexVM
@{

    //Layout = null;
}
<!DOCTYPE html>
<link href="~/Areas/ModulAdministracija/Content/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="@Url.Content("~/Content/Scripts/jquery-1.8.3.min.js")"
         type="text/javascript"></script>
<script src="@Url.Content("~/Content/Scripts/bootstrap.min.js")"
         type="text/javascript"></script>
<script>
    $(document).ready(function () {
        $(window).scroll(function () {
            if ($(this).scrollTop() > 50) {
                $('#back-to-top').fadeIn();
            } else {
                $('#back-to-top').fadeOut();
            }
        });
        // scroll body to 0px on click
        $('#back-to-top').click(function () {
            $('#back-to-top').tooltip('hide');
            $('body,html').animate({
                scrollTop: 0
            }, 800);
            return false;
        });

        $('#back-to-top').tooltip('show');

    });
</script>
@{
    RS1_P120_MobitelShop.Models.Korisnik korisnik = RS1_P120_MobitelShop.Helper.Autentifikacija.GetLogiraniKorisnik(Context);
}
<div class="modal hide fade in" id="loginForm" aria-hidden="false">
    <div class="breadcrumb">
        <i class="icon-remove" data-dismiss="modal" aria-hidden="true"></i>
        <h4>Prijavi se </h4>
    </div>
    <!--Modal Body-->
    <div class="alert">
        @using (Html.BeginForm("Provjera", "Autentifikacija", FormMethod.Get))
        {
            if (ViewData["Confirm"] != null)
            {
                <div>Poruka konfirmacije je poslana na Vaš mail. Molimo provjerite i potvrdite kako bi mogli koristiti svoj račun.</div>
            }
            <div style="margin-bottom: 25px" class="input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>

                <input type="text" class="form-control" name="email" id="email" placeholder="korisničko mail" style="width:100%" required autofocus />
                @*<input type="text" class="form-control" name="username" id="username" placeholder="korisničko ime" style="width:100%" required autofocus />*@
            </div>
            <div style="margin-bottom: 25px" class="input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                <input type="password" class="form-control" id="password" name="password" placeholder="lozinka" style="width:100%" required />
            </div>
            <div class="input-group">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" id="zapamti" name="zapamti" class="arrow" value="1" />
                        Zapamti me
                    </label>
                </div>
            </div>

            <div style="margin-top:10px" class="form-group">
                <!-- Button -->
                <div class="col-sm-12 controls">

                    <input type="submit" value="Prijavi se" class="btn btn-success" />
                </div>
            </div>
            <br />
        }
    </div>
    <br />
    <div class="form-group">
        <div class="col-md-12 control">
            <div style="border-top: 1px solid#888; padding-top:15px; font-size:85%">
                @*<span style="font-size:15px">Nemate profil</span> @Html.ActionLink("Registruj se", "Dodaj")*@
                <span style="font-size:15px">Nemate profil</span> @Ajax.ActionLink("Registruj se", "Dodaj", new AjaxOptions() { UpdateTargetId = "zaAjaxRegistraciju" })
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="article-editor">
    <div class="modal-header">
        <a class="close" data-dismiss="modal">&times;</a>
        <h3>Title of the form</h3>
    </div>
    <div class="modal-body">
        <p>Body of the form</p>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">Close</a>
        <a href="#" class="btn btn-primary">Save Changes</a>
    </div>
</div>
<div class="container">
    <div class="col-sm-12">
        <div id="myCarousel" class="carousel slide" data-ride="carousel" style="width:140%;height:450px;margin-left:-210px;margin-top:-1.5%" data-interval="5000">
            <!-- Indicators -->
            <ol class="carousel-indicators">
                @foreach (PocetnaIndexRow hir in Model.listaNajnovijihArtikala)
            {
                <li data-target="#myCarousel" data-slide-to="@hir.ArtikalId" class="@(hir==Model.listaNajnovijihArtikala.FirstOrDefault() ?"active":"")"></li>
        }
            </ol>
            <!-- Wrapper for slides -->
            <div class="carousel-inner">
                @foreach (PocetnaIndexRow hir in Model.listaNajnovijihArtikala)
            {
                <div class="@(hir==Model.listaNajnovijihArtikala.FirstOrDefault()?"item active":"item")">

                    <a href="/ModulKlijenti/Uporedi/Detalji?artikalId=@hir.ArtikalId">
                        <img src="https://gnomes.co.nz/images/banner-sale.png" style="width:200px;height:200px;" />
                        <div style="margin-left:180px">
                            <img src="@hir.Slika" alt="@(hir.Marka+" "+hir.Model)" style="width:50%;height:400px;margin-top:-180px">

                            <div class="carousel-caption" style="color:black;">
                                <div class="float-right">
                                    <div class="text-left" style="font-family:Georgia,serif;font-size:25px;">
                                        <h1>@hir.Model</h1>
                                        <p>Operativni sistem: @hir.OperativniSistem</p>
                                        <p>Ekran: @hir.VrstaEkrana  @hir.Ekran ''</p>
                                        <p>Kamera: @hir.Kamera</p>
                                        <del style="color:red;"><p style="color:black;">&nbsp; @hir.Cijena KM &nbsp;</p></del>
                                        <p style="color:orangered;font-size:40px"> <b>@hir.CijenaSaPopustom KM</b></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>

                </div>
        }
            </div>
            <!-- Left and right controls -->
            <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#myCarousel" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
</div>
<h2 style="text-align:center">MOBITELI</h2>
<div class="row">
    <div class="col-sm-2">
        @using (Html.BeginForm("Index", "Home"))
    {
        <table class="table table-bordered">
            <tr>
                <td>Pretraži po filterima</td>
            </tr>
            <tr>
                <td style="height:50px;padding-top:15px;">
                    <div style="cursor:pointer;width:200px;" data-toggle="collapse" href="#collapseRAM" aria-expanded="false" aria-controls="collapseRAM">
                        RAM <i class="glyphicon glyphicon-chevron-down" style="float:right"></i>
                    </div>
                    <div class="collapse" id="collapseRAM">
                        <div style="margin-left:20px">
                            @for (int i = 0; i < Model.specifikacijeList.Count; i++)
                        {
                            if (Model.specifikacijeList[i].isRam == true)
                            {
                                <div class="checkbox">

                                    @Html.CheckBoxFor(m => Model.specifikacijeList[i].isRamChecked, new { @class = "checkbox" })
                                    @Model.specifikacijeList[i].RamNaziv <br />
                                    @Html.HiddenFor(m => Model.specifikacijeList[i].RamId)
                                    @Html.HiddenFor(m => Model.specifikacijeList[i].RamNaziv)
                                </div>
                        }
                    }
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td style="height:50px;padding-top:15px;">
                    <div style="cursor:pointer;width:200px;" data-toggle="collapse" href="#collapseEkstMemorija" aria-expanded="false" aria-controls="collapseEkstMemorija">
                        Eksterna memorija <i class="glyphicon glyphicon-chevron-down" style="float:right"></i>
                    </div>
                    <div class="collapse" id="collapseEkstMemorija">
                        <div style="margin-left:20px">

                            @for (int i = 0; i < Model.specifikacijeList.Count; i++)
                        {
                            if (Model.specifikacijeList[i].isEksternaMemorija == true)
                            {
                                <div class="checkbox">

                                    @Html.CheckBoxFor(m => Model.specifikacijeList[i].isEksternaMemorijaChecked, new { @class = "checkbox" })
                                    @Model.specifikacijeList[i].EksternaMemorijaNaziv <br />
                                    @Html.HiddenFor(m => Model.specifikacijeList[i].EksternaMemorijaId)
                                    @Html.HiddenFor(m => Model.specifikacijeList[i].EksternaMemorijaNaziv)
                                </div>
                        }
                    }
                        </div>

                    </div>
                </td>
            </tr>
            <tr>
                <td style="height:50px;padding-top:15px;">
                    <div style="cursor:pointer;width:200px;" data-toggle="collapse" href="#collapseOperSistem" aria-expanded="false" aria-controls="collapseOperSistem">
                        Operativni sistem <i class="glyphicon glyphicon-chevron-down" style="float:right"></i>
                    </div>
                    <div class="collapse" id="collapseOperSistem">
                        <div style="margin-left:20px">

                            @for (int i = 0; i < Model.specifikacijeList.Count; i++)
                        {
                            if (Model.specifikacijeList[i].isOperativniSistem == true)
                            {
                                <div class="checkbox">
                                    @Html.CheckBoxFor(m => Model.specifikacijeList[i].isOperativniSistemChecked, new { @class = "checkbox" })
                                    @Model.specifikacijeList[i].OperativniSistemNaziv <br />
                                    @Html.HiddenFor(m => Model.specifikacijeList[i].OperativniSistemId)
                                    @Html.HiddenFor(m => Model.specifikacijeList[i].OperativniSistemNaziv)
                                </div>
                        }
                    }
                        </div>

                    </div>
                </td>
            </tr>
            <tr>
                <td style="height:50px;padding-top:15px;">
                    <div style="cursor:pointer;width:200px;" data-toggle="collapse" href="#collapseEkran" aria-expanded="false" aria-controls="collapseEkran">
                        Ekran <i class="glyphicon glyphicon-chevron-down" style="float:right"></i>
                    </div>
                    <div class="collapse" id="collapseEkran">
                        <div style="margin-left:20px">

                            @for (int i = 0; i < Model.specifikacijeList.Count; i++)
                        {
                            if (Model.specifikacijeList[i].isEkran == true)
                            {
                                <div class="checkbox">

                                    @Html.CheckBoxFor(m => Model.specifikacijeList[i].isEkranChecked, new { @class = "checkbox" })
                                    @Model.specifikacijeList[i].EkranNaziv "<br />
                                    @Html.HiddenFor(m => Model.specifikacijeList[i].EkranId)
                                    @Html.HiddenFor(m => Model.specifikacijeList[i].EkranNaziv)
                                </div>

                        }
                    }
                        </div>

                    </div>
                </td>
            </tr>
        </table>
        <button style="margin-top:30px;width:220px" type="submit" value="Pretraži" class="btn btn-secondary">Pretraži <i class="glyphicon glyphicon-refresh"></i></button>

}
    </div>
    <div class="col-sm-10">
        <div id="divSearch">
            <div class="content-wrapper">
                <div class="container-fluid">
                    <div class="row">
                        <div id="page-wrapper">
                            <div style="margin-left:10%; padding-bottom:3px;padding-top:10px">
                                <div class="row">
                                    @foreach (RS1_P120_MobitelShop.Models.Artikal x in Model.listaArtikalaPoSearch)
                                    {
                                        <div style="box-shadow: -1px 3px 25px #000; margin-bottom:20px;padding-top:0px;width:220px;padding-bottom:0px;padding:10px;margin-right:5px;background-color:white">
                                            <br />
                                            <div class="img-fluid">
                                                <a href="/ModulKlijenti/Uporedi/Detalji?artikalId=@x.Id" data-toggle="lightbox" data-footer="Slika telefona" data-max-width="500">
                                                    <img src="@Url.Content(@x.Slika)" class="img-fluid" style="width:200px;height:185px" />
                                                </a>
                                                <div class="caption">
                                                    <p><b>Model telefona:<br /></b>@x.Model</p>
                                                    <p><b>Garancija: </b>@x.Garancija</p>
                                                    <p><b>Cijena: </b>@x.Cijena KM</p>
                                                    <p>
                                                        @if (korisnik != null)
                                                        {
                                                            using (Html.BeginForm("Staviukorpi", "Uporedi", new { area = "ModulKlijenti", ArtikalId = x.Id, KlijentId = korisnik.Klijent.Id }))
                                                            {
                                                                <button type="submit" class="btn btn-primary btn-lg">Stavi u korpu</button>
                                                            }
                                                        }
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-2">
                        Stranica @(Model.listaArtikalaPoSearch.PageCount < Model.listaArtikalaPoSearch.PageNumber ? 0 : Model.listaArtikalaPoSearch.PageNumber) od @Model.listaArtikalaPoSearch.PageCount
                        @Html.PagedListPager(Model.listaArtikalaPoSearch, page => Url.Action("Index", new
                        {
                            page,
                            tipID = ViewBag.tipID
                        }))
                    </div>
                </div>
            </div>
        </div>
    </div> 

        <a id="back-to-top" href="#" class="btn btn-primary btn-lg back-to-top" role="button" title="Click to return on the top page" data-toggle="tooltip" data-placement="left"><span class="glyphicon glyphicon-chevron-up"></span></a>

    </div>
    <style>
        #container .modal.fade {
            left: -25%;
            -webkit-transition: opacity 0.3s linear, left 0.3s ease-out;
            -moz-transition: opacity 0.3s linear, left 0.3s ease-out;
            -o-transition: opacity 0.3s linear, left 0.3s ease-out;
            transition: opacity 0.3s linear, left 0.3s ease-out;
        }

            #container .modal.fade.in {
                left: 50%;
            }
    </style>

    <style>
        #container .modal-body {
            max-height: 50px;
        }

        #article-editor {
            width: 600px;
            margin-left: -300px;
            margin-right: -300px;
        }
    </style>

    <style>
        .back-to-top {
            cursor: pointer;
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: none;
        }
    </style>

